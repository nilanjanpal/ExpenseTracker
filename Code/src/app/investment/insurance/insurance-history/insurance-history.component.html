<mat-card class="mat-elevation-z8">
    <mat-accordion>
        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false" *ngFor="let element of (dataSource$ | async)">
            <mat-expansion-panel-header>
                <mat-panel-title style="width:300px">
                    Policy name - {{element.policyName}}
                </mat-panel-title>
                <mat-panel-description>
                    <span>Premium - {{element.premiumAmount}}</span>
                    <span>Status - {{element.policyStatus}}</span>
                    <span>Maturity Date - {{element.maturityDate | date: 'dd-MM-yyyy'}}</span>
                </mat-panel-description>
            </mat-expansion-panel-header>
            <p>
                <span>Company name - {{element.companyName}}</span>
                <span>Policy number - {{element.policyNumber}}</span>
                <span>Purchase Date - {{element.purchaseDate | date:'dd-MM-yyyy'}}</span>
                <span>Payment End Date - {{element.paymentEndDate | date:'dd-MM-yyyy'}}</span>
                <span>Payment Frequency - {{element.paymentFrequency}}</span>
                <span>Maturity Amount - {{element.maturityAmount}}</span>
                <span *ngIf="element.policyStatus === 'Matured'">ROI - {{calReturn(element.purchaseDate,element.paymentEndDate,element.maturityDate,element.premiumAmount,element.maturityAmount)}}%</span>
            </p>
        </mat-expansion-panel>
    </mat-accordion>
</mat-card>